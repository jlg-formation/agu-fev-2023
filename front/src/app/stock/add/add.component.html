<main>
  <h1>Ajout d'un article</h1>
  <form [formGroup]="f" (ngSubmit)="submit()">
    <label>
      <span>Nom</span>
      <input type="text" formControlName="name" appAutofocus />
      <span class="error">
        <span *ngIf="f.controls.name.errors?.['required'] === true">
          Champ obligatoire
        </span>
        <span *ngIf="f.controls.name.errors?.['maxlength']">
          Trop long ({{ f.controls.name.errors?.['maxlength'].actualLength + '>' + f.controls.name.errors?.['maxlength'].requiredLength }}
          caractères)
        </span>
      </span>
    </label>
    <label>
      <span>Prix</span>
      <input type="number" formControlName="price" min="0" step="0.01" />
      <span class="error"> </span>
    </label>
    <label>
      <span>Quantité</span>
      <input type="number" formControlName="qty" min="0" />
      <span class="error"> </span>
    </label>
    <div class="error">
      {{ errorMsg }}
    </div>
    <button class="primary" type="submit" [disabled]="isAdding || f.invalid">
      <fa-icon
        [icon]="isAdding ? faCircleNotch : faPlus"
        [spin]="isAdding"
      ></fa-icon>
      <span>Ajouter</span>
    </button>
  </form>
</main>
